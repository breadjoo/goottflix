<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.goottflix.chat.entity.mapper.ChatRoomMapper">


    <insert id="insertChatRoom">
        INSERT INTO chatroom(user_id_1, user_id_2)
        VALUES (#{userId1}, #{userId2})
    </insert>

    <select id="getChatRoomByUserIds" resultType="ChatRoom">
        SELECT * FROM chatroom WHERE (user_id_1 = #{userId1}
        AND user_id_2 = #{userId2})
        OR (user_id_1 = #{userId2} AND user_id_2 = #{userId1})
    </select>

    <select id="getAllChatRooms" resultType="ChatRoom">
        SELECT * FROM chatroom
    </select>


</mapper>